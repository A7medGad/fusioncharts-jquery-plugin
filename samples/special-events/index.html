<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="//s3-eu-west-1.amazonaws.com/fcdesignsystem/1.0.0/css/fusionDesign.css">
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="../../assets/css/fusioncharts.theme.fusion.css" />
  </head>
  <body>
    <!--[if lt IE 7]>
      <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->

    <div id="chart-container"></div>
    <p style="padding: 10px; background: rgb(255, 255, 255); bottom: 20px" id='message'>
        You have dragged a plot of ______ dataset, its previous value was _______ and its current value is _______
    </p>

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <!-- FusionCharts -->
    <script src="../../assets/scripts/fusioncharts/fusioncharts.js"></script>
    <script src="../../assets/scripts/fusioncharts/themes/fusioncharts.theme.fusion.js"></script>
    <!-- jQuery-FC -->
    <script src="../../assets/scripts/fusioncharts.jqueryplugin.min.js"></script>


    <script type="text/javascript">
      jQuery('document').ready(function () {
        var dataSource = {
            "chart": {
            "caption": "App Publishing Trend",
            "subCaption": "2012-2016",
            "xAxisName": "Years",
            "yAxisName" : "Total number of apps in store",
            "formatnumberscale": "1",
            "drawCrossLine":"1",
            "plotToolText" : "<b>$dataValue</b> apps on $seriesName in $label",
            "theme": "fusion",
            "showvalues": "1"
            },

            "categories": [{
            "category": [{
                "label": "2012"
            }, {
                "label": "2013"
            }, {
                "label": "2014"
            }, {
                "label": "2015"
            },{
            "label": "2016"
            }
            ]
            }],
            "dataset": [{
            "seriesname": "iOS App Store",
            "data": [{
                "value": "125000"
            }, {
                "value": "300000"
            }, {
                "value": "480000"
            }, {
                "value": "800000"
            }, {
                "value": "1100000"
            }]
            }, {
            "seriesname": "Google Play Store",
            "data": [{
                "value": "70000"
            }, {
                "value": "150000"
            }, {
                "value": "350000"
            }, {
                "value": "600000"
            },{
                "value": "1400000"
            }]
            }, {
            "seriesname": "Amazon AppStore",
            "data": [{
                "value": "10000"
            }, {
                "value": "100000"
            }, {
                "value": "300000"
            }, {
                "value": "600000"
            },{
                "value": "900000"
            }]
            }]
        },
        prevValue,
        curValue;

        $("#chart-container").insertFusionCharts({
            type: "dragcolumn2d",
            width: "100%",
            height: "85%",
            dataFormat: "json",
            dataSource: dataSource
        });

        $('#chart-container').bind('fusionchartsdataplotdragend', function(event, args) {
            prevValue = FusionCharts.formatNumber(args.startValue.toFixed(2));
            curValue = FusionCharts.formatNumber(args.endValue.toFixed(2));
            $('#message').text("You have dragged a plot of " + args.datasetName + " dataset, its previous value was " + prevValue + " and its current value is " + curValue);
        });

      });
    </script>

  </body>
</html>
